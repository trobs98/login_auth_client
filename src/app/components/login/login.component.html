<form [formGroup]="loginForm" (ngSubmit)="login()">

    <h3 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Login to your account</h3>

    <div class="alert alert-danger alert-dismissible" [hidden]="!displayError">
        <h1>{{ displayError }}</h1>
    </div>

    <div class="form-outline mb-4">
        <label class="form-label" for="email" [style.color]="emailControls?.status == 'INVALID' && emailControls?.touched ? 'red' : null">Email: </label>
        <input class="form-control form-control-lg" id="email" type="text" formControlName="email" [style.border-color]="emailControls?.status == 'INVALID' && emailControls?.touched ? 'red' : null">
        <br>
        <div *ngIf="emailControls?.status == 'INVALID' && emailControls?.touched" class="alert alert-danger alert-dismissible">
            <div *ngIf="emailControls?.errors?.['required']">
                <p>An email is required.</p>
            </div>
            <div *ngIf="emailControls?.errors?.['email']">
                <p>Must be an email.</p>
            </div>
        </div>
    </div>

    <div class="form-outline mb-4">
        <label class="form-label" for="password" [style.color]="passwordControls?.status == 'INVALID' && passwordControls?.touched ? 'red' : null">Password: </label>
        <input class="form-control form-control-lg" id="password" type="password" formControlName="password" [style.border-color]="passwordControls?.status == 'INVALID' && passwordControls?.touched ? 'red' : null">
        <br>
        <div *ngIf="passwordControls?.status == 'INVALID' && passwordControls?.touched" class="alert alert-danger alert-dismissible">
            <div *ngIf="passwordControls?.errors?.['required']">
                <p>A password is required.</p>
            </div>
            <div *ngIf="passwordControls?.errors?.['minlength']">
                <p>The password is {{passwordControls?.errors?.['minlength']?.actualLength}} characters. It must be at least {{passwordControls?.errors?.['minlength']?.requiredLength}} characters long.</p>
            </div>
            <div *ngIf="passwordControls?.errors?.['maxlength']">
                <p>The password is {{passwordControls?.errors?.['maxlength']?.actualLength}} characters. It must be at no shorter than {{passwordControls?.errors?.['maxlength']?.requiredLength}} characters long.</p>
            </div>
        </div> 
    </div>

    <div class="d-flex justify-content-around align-items-center mb-4">
        <div class="col">
            <a routerLink="/forgot-password">Forgot password?</a>
        </div>
    </div>
    
    <div class="d-flex justify-content-around align-items-center mb-4">
        <div class="col">
            <p>Don't have an account? <a routerLink="/signup">Sign Up</a> </p> 
        </div>
    </div>

    <div class="pt-1 mb-4">
        <button class="btn btn-dark btn-lg btn-block w-100" type="submit" [disabled]="!loginForm.valid">Login</button>
    </div>
</form>